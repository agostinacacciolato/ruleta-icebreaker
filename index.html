<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ruleta de Preguntas - Ice Breaker (Equipo)</title>
  <style>
    :root{
      --yel-50:#FFFDE7; /* fondo muy suave */
      --yel-100:#FFF59D;
      --yel-200:#FFE082;
      --yel-300:#FFD54F; /* acento */
      --yel-400:#FFCA28;
      --yel-500:#FFC107; /* principal */
      --yel-700:#F9A825; /* botones hover */
      --ink:#222;
    }
    *{box-sizing:border-box}
    body{font-family:"Segoe UI",system-ui,-apple-system,Arial,sans-serif; margin:0; padding:32px; text-align:center; color:var(--ink); background:linear-gradient(135deg,var(--yel-50),#FFF2B2);}    
    h1{font-size:2.1rem; margin:0 0 8px}
    p.sub{margin:0 0 24px; opacity:.8}

    .app{max-width:900px; margin:0 auto; background:#fff; border-radius:18px; box-shadow:0 10px 24px rgba(0,0,0,.08); padding:24px}

    #question-box{margin:18px auto; padding:28px; background:linear-gradient(180deg,#fff 0%, #FFF8DC 100%); border:2px dashed var(--yel-300); border-radius:16px; min-height:110px; display:flex; align-items:center; justify-content:center; font-size:1.25rem;}
    #question-meta{font-size:.95rem; opacity:.8; margin-top:6px}

    .controls{display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:12px}
    button{padding:12px 18px; border:0; border-radius:12px; background:var(--yel-500); color:#3b2e00; font-weight:600; cursor:pointer; transition:.2s transform ease, .2s filter ease, .2s background ease}
    button:hover{transform:translateY(-1px); background:var(--yel-700)}
    button.secondary{background:var(--yel-200)}
    button.ghost{background:transparent; border:2px solid var(--yel-300)}

    .timer{margin-top:18px}
    .time-face{font-variant-numeric:tabular-nums; font-size:2.2rem; letter-spacing:1px}

    .bar{position:relative; height:14px; background:#FFF3CD; border-radius:999px; overflow:hidden; margin:10px auto; max-width:520px; border:1px solid #FDE68A}
    .bar > span{position:absolute; left:0; top:0; bottom:0; width:0%; background:linear-gradient(90deg,#FFE082,#FFC107,#F9A825);}

    .badge{display:inline-block; padding:4px 10px; border-radius:999px; background:#FFF3CD; border:1px solid #FDE68A; font-size:.85rem; margin-left:6px}

    .row{display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap:wrap}

    .footer{margin-top:18px; font-size:.9rem; opacity:.8}
    a.link{color:#ad7a00}
  </style>
</head>
<body>
  <div class="app">
    <h1>ğŸ’› Ruleta de Preguntas â€” C&I MLA</h1>
    <p class="sub">Preguntas aleatorias para conocernos, <strong>sin repetir</strong>, con cronÃ³metro de <strong>30 seg</strong> por pregunta.</p>

    <div id="question-box">Haz clic en Nueva pregunta para empezar</div>
    <div id="question-meta">Restantes: <span id="left">â€”</span> <span class="badge" id="used-badge" style="display:none">Sin repetidas âœ…</span></div>

    <div class="controls">
      <button id="newRoundBtn">â–¶ï¸ Nueva pregunta (30 seg)</button>
      <button id="pauseBtn" class="secondary">â¸ï¸ Pausar</button>
      <button id="resumeBtn" class="secondary">â–¶ï¸ Reanudar</button>
      <button id="resetBtn" class="ghost">â†º Reiniciar cronÃ³metro</button>
      <button id="refillBtn" class="ghost">ğŸ” Reponer preguntas</button>
    </div>

    <div class="timer">
      <div class="time-face" id="clock">30 seg</div>
      <div class="bar"><span id="barFill"></span></div>
    </div>

    <div class="footer">
      Compartir: <a class="link" href="#" onclick="sharePage()">ğŸ”— Link de esta ruleta</a>
    </div>
  </div>

  <script>
    // ====== Banco de preguntas ======
    const BASE_QUESTIONS = [
      // Gustos y divertidas
      "ğŸ• Â¿CuÃ¡l es tu comida favorita que podrÃ­as comer todos los dÃ­as?",
      "ğŸ« Â¿Dulce o salado?",
      "ğŸ“º Â¿CuÃ¡l es tu guilty pleasure en series o pelÃ­culas?",
      "â˜• Â¿Equipo mate, cafÃ© o tÃ©?",
      "ğŸ¶ Â¿QuÃ© canciÃ³n siempre te pone de buen humor?",
      "ğŸ© Â¿Chocolate o dulce de leche?",
      "ğŸ Â¿Pizza con ananÃ¡: sÃ­ o no?",
      "ğŸ¥ Â¿Series o pelÃ­culas?",
      
      // Viajes & experiencias
      "ğŸŒ Â¿Lugar mÃ¡s lindo que visitaste?",
      "ğŸ–ï¸ Â¿Playa, montaÃ±a o ciudad para vacaciones?",
      "âœˆï¸ Â¿Destino soÃ±ado que aÃºn no conocÃ©s?",
      "ğŸ¤ª Â¿Con quiÃ©n del equipo te irÃ­as de vacaciones?",
      "ğŸ—ºï¸ Â¿PreferÃ­s viajar con itinerario planificado o improvisar?",

      // ConociÃ©ndonos
      "ğŸ‘¶ Â¿CuÃ¡l fue tu primer trabajo?",
      "ğŸ­ Â¿CuÃ¡l es tu superpoder?",
      "ğŸŒ™ Â¿Sos mÃ¡s de madrugar o trasnochar?",
      "ğŸ˜€ Â¿QuÃ© emoji usÃ¡s mÃ¡s seguido?",
      "ğŸ“± Â¿QuÃ© app del celular usÃ¡s mÃ¡s?",
      "ğŸª„ Â¿Team Series o Team PelÃ­culas?",
      "ğŸ–ï¸ Â¿Team Verano o Team Invierno?",
      "ğŸ˜… Â¿CuÃ¡l fue tu peor look de adolescencia?",
      "ğŸ§¸ Â¿CuÃ¡l fue tu juguete favorito de la infancia?",
      "ğŸ‘» Â¿QuÃ© te da miedo?",
      "ğŸ’° Â¿QuÃ© harÃ­as si ganaras un millÃ³n de dÃ³lares maÃ±ana? No vale la aburrida de: lo invierto",

      // Orientadas al equipo
      "ğŸ§© Â¿QuÃ© fortaleza tuya como profesional te enorgullece?",
      "ğŸ† ContÃ¡ una mini victoria reciente del equipo o tuya que te hizo sonreÃ­r.",
      "ğŸ—“ï¸ Â¿CuÃ¡l es el mejor horario del dÃ­a para enfocarte en el trabajo?",
      "ğŸ§  Â¿QuÃ© querÃ©s aprender de algÃºn compaÃ±ero/a del equipo?",
      "ğŸ™Œ Â¿QuiÃ©n te ayudÃ³ Ãºltimamente y cÃ³mo?",
      "ğŸ˜€ Â¿QuiÃ©n es el/la mÃ¡s gracioso/a del equipo?",

      // Pop/cultura
      "ğŸ¬ Â¿CuÃ¡l fue la Ãºltima pelÃ­cula que viste?",
      "ğŸ“š Â¿Libro favorito?",
      "ğŸ¦¸ Â¿QuÃ© personaje de ficciÃ³n te representa mÃ¡s?",
      "ğŸ® Â¿QuÃ© juego jugarÃ­as por horas sin aburrirte?",
      "ğŸ˜‚ Â¿CuÃ¡l es tu meme favorito?",
      "ğŸ“± Â¿QuÃ© ringtone usabas en tu primer celular?"
    ];

    // ====== LÃ³gica de ruleta sin repeticiÃ³n ======
    let pool = [];
    const questionBox = document.getElementById('question-box');
    const leftSpan = document.getElementById('left');
    const usedBadge = document.getElementById('used-badge');

    function refillPool(){
      pool = [...BASE_QUESTIONS];
      updateLeft();
      usedBadge.style.display = 'none';
    }

    function updateLeft(){ leftSpan.textContent = pool.length; }

    function pickQuestion(){
      if(pool.length === 0){
        questionBox.innerHTML = 'ğŸ‰ Â¡Se usaron todas las preguntas! TocÃ¡ <strong>Reponer preguntas</strong> para barajar de nuevo.';
        usedBadge.style.display = 'inline-block';
        return null;
      }
      const idx = Math.floor(Math.random() * pool.length);
      const [q] = pool.splice(idx, 1);
      updateLeft();
      usedBadge.style.display = 'inline-block';
      return q;
    }

    // ====== CronÃ³metro 1:30 ======
    const DURATION = 45; // segundos
    let remaining = DURATION;
    let timerId = null;
    const clock = document.getElementById('clock');
    const bar = document.getElementById('barFill');

    function toMMSS(sec){
      const m = Math.floor(sec/60).toString().padStart(2,'0');
      const s = (sec%60).toString().padStart(2,'0');
      return `${m}:${s}`;
    }
    function renderTime(){
      clock.textContent = toMMSS(remaining);
      const pct = 100 - (remaining / DURATION)*100;
      bar.style.width = `${pct}%`;
    }
    function resetTimer(){
      clearInterval(timerId); timerId = null; remaining = DURATION; renderTime();
    }
    function startTimer(){
      clearInterval(timerId);
      renderTime();
      timerId = setInterval(()=>{
        remaining--; renderTime();
        if(remaining <= 0){
          clearInterval(timerId); timerId = null; remaining = 0; renderTime();
          questionBox.innerHTML += '<br><strong>â° Â¡Tiempo!</strong>';
        }
      }, 1000);
    }
    function pauseTimer(){ clearInterval(timerId); timerId = null; }
    function resumeTimer(){ if(!timerId && remaining>0){ startTimer(); } }

    // ====== Interacciones ======
    document.getElementById('newRoundBtn').addEventListener('click', ()=>{
      const q = pickQuestion();
      if(q){ questionBox.innerHTML = q; }
      remaining = DURATION; startTimer();
    });
    document.getElementById('pauseBtn').addEventListener('click', pauseTimer);
    document.getElementById('resumeBtn').addEventListener('click', resumeTimer);
    document.getElementById('resetBtn').addEventListener('click', ()=>{ resetTimer(); });
    document.getElementById('refillBtn').addEventListener('click', ()=>{ refillPool(); questionBox.innerHTML = 'ğŸ” Baraja lista. TocÃ¡ <em> Nueva pregunta </em> para seguir.'; });

    function sharePage(){
      if(navigator.share){
        navigator.share({ title:'Ruleta de Preguntas â€” Equipo', text:'ProbÃ¡ esta ruleta de preguntas con cronÃ³metro ğŸ’›', url: window.location.href }).catch(()=>{});
      } else { alert('CopiÃ¡ este link: ' + window.location.href); }
    }
    window.sharePage = sharePage; // para el enlace

    // init
    refillPool();
    resetTimer();
  </script>
</body>
</html>
